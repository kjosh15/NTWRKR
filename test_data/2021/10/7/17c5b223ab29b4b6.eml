MIME-Version: 1.0
Date: Thu, 7 Oct 2021 14:22:20 +0000
References: <d802ee4c-c025-400d-958e-3c51307dec92n@googlegroups.com>
	<90a63a18-9c8e-40f4-99ed-f754c1ddbf9fn@googlegroups.com>
In-Reply-To: <90a63a18-9c8e-40f4-99ed-f754c1ddbf9fn@googlegroups.com>
Message-ID: <CACNgykMSzqc6E=WPwtz4+m9sd7WPXYaG5wW+4REtE1dz-Oa05w@mail.gmail.com>
Subject: Re: CrowBoxKit Re: New Servo worked...and then it didn't - Please help!
From: Josh Klein <josh@josh.is>
To: "CrowBoxKit@googlegroups.com" <CrowBoxKit@googlegroups.com>
Content-Type: multipart/alternative; boundary="000000000000b2cb9405cdc3fdd0"

--000000000000b2cb9405cdc3fdd0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Hamza,

I saw your latest post - does that obviate the notes in this one? I.e., did
the 180 server solve your problem?

- J
=E1=90=A7

On Wed, Oct 6, 2021 at 3:33 PM Hamza Qureshi <qureshi.a.hamza@gmail.com>
wrote:

> Just to add, everything else works fine. The servo responds to the coin
> sensor, and it also responds to both of the perch switches. The issue her=
e
> is that it is responding incorrectly.
>
> On Wednesday, October 6, 2021 at 4:28:49 PM UTC+1 Hamza Qureshi wrote:
>
>> Hi all,
>>
>> I purchased a new Servo as the last one was the wrong make. This time I
>> got the 180 degrees one (the correct one):
>> https://www.botnroll.com/pt/servos/2641-servo-towerpro-mg995-servo-180.h=
tml
>>
>> During the boot up and entry into *Stage 1*, it rotated more times than
>> I expected it to. However, it ended up parked open. So that kind of work=
ed.
>>
>> *Stage 2*, clicking the perch switches did activate the food lid,
>> however, like in the boot-up, it rotated more times than I expected it t=
o.
>> Also, it did not pause while open. Instead, it kept sliding back and for=
th
>> halfway, and then eventually closed incrementally. So *half *correct.
>>
>> *Stage 3*, it worked! It worked perfectly. See here:
>> https://www.youtube.com/watch?v=3DgDOyRloRX5A
>>
>> After a short while, *Stage 3* stopped working. I switched to *Stage 4*,
>> and it didn't work properly either. See here:
>> https://www.youtube.com/watch?v=3DJ8ygK2GyM68
>>
>> After another short while, *Stage 4* started doing something very
>> strange. It entered a loop:  https://www.youtube.com/watch?v=3DgkFu2a1Pp=
Ww
>>
>> During this loop, I could not change stages or do anything else. So I
>> unplugged the Arduino and wanted to reset the EEPROM. I uploaded a simpl=
e
>> sketch:
>>
>> #include <EEPROM.h>
>> void setup() {
>>   // put your setup code here, to run once:
>>   // initialize the LED pin as an output.
>>    pinMode(13, OUTPUT);
>>
>>    for (int i =3D 0 ; i < EEPROM.length() ; i++) {
>>       EEPROM.write(i, 0);
>>    }
>>
>>    // turn the LED on when we're done
>>    digitalWrite(13, HIGH);
>> }
>>
>> void loop() {
>>   // put your main code here, to run repeatedly:
>> }
>>
>> And reuploaded the cros OS. Starting from Stage 1 again, everything stil=
l
>> occurred like it did before (incorrectly, that is).
>>
>> So I thought that perhaps I have received another faulty servo. I decide=
d
>> to run a test software on the Servo this time. I wanted the Servo to spi=
n
>> 180 degrees one way, and back again. I wanted this to be repeated in a
>> loop. Here is the simple sketch I uploaded to the Arduino:
>>
>>
>> #include <Servo.h> // include servo library to use its related functions
>> #define Servo_PWM 9 // A descriptive name for D6 pin of Arduino to
>> provide PWM signal
>> Servo MG995_Servo;  // Define an instance of of Servo with the name of
>> "MG995_Servo"
>>
>> void setup() {
>>   Serial.begin(9600); // Initialize UART with 9600 Baud rate
>>   MG995_Servo.attach(Servo_PWM);  // Connect D6 of Arduino with PWM
>> signal pin of servo motor
>> }
>>
>> void loop() {
>>   Serial.println("0");// You can display on the serial the signal value
>>   MG995_Servo.write(0); //Turn clockwise at high speed
>>   delay(3000);
>>   MG995_Servo.detach();//Stop. You can use deatch function or use
>> write(x), as x is the middle of 0-180 which is 90, but some lack of
>> precision may change this value
>>   delay(2000);
>>   MG995_Servo.attach(Servo_PWM);//Always use attach function after detac=
h
>> to re-connect your servo with the board
>>   Serial.println("0");//Turn left high speed
>>   MG995_Servo.write(180);
>>   delay(3000);
>>   MG995_Servo.detach();//Stop
>>   delay(2000);
>>   MG995_Servo.attach(Servo_PWM);
>> }
>>
>> And it worked. Perfectly. Check it out here:
>> https://www.youtube.com/watch?v=3DY0tDVEZWXxo
>>
>> I left it running for a while, and it did not falter. So now I am really
>> confused. This does not seem to be a servo issue. It does not appear to =
be
>> a power issue either (this is the unit I am using:
>> https://www.botnroll.com/pt/alimentadores-acdc-5v/878-alimentador-5v-dc-=
2a-.html
>> ).
>>
>> Is there an issue with the code? Perhaps it is the Arduino? Although the
>> Ardunio is working with everything else. I am using the original Arduino
>> Uno R3.
>>
>> Please if anyone could help me, I would really appreciate it! I would
>> like some input from the Crowbox team before I purchase a really expensi=
ve
>> servo.
>>
>> Thanks :)
>>
>> --
> You received this message because you are subscribed to the Google Groups
> "Crow Box Kit" group.
> To unsubscribe from this group and stop receiving emails from it, send an
> email to CrowBoxKit+unsubscribe@googlegroups.com.
> To view this discussion on the web visit
> https://groups.google.com/d/msgid/CrowBoxKit/90a63a18-9c8e-40f4-99ed-f754=
c1ddbf9fn%40googlegroups.com
> <https://groups.google.com/d/msgid/CrowBoxKit/90a63a18-9c8e-40f4-99ed-f75=
4c1ddbf9fn%40googlegroups.com?utm_medium=3Demail&utm_source=3Dfooter>
> .
>

--000000000000b2cb9405cdc3fdd0
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hamza,<div><br></div><div>I saw your latest post - does th=
at obviate=C2=A0the notes in this one? I.e., did the 180 server solve your =
problem?</div><div><br></div><div>- J</div></div><div hspace=3D"streak-pt-m=
ark" style=3D"max-height:1px"><img alt=3D"" style=3D"width:0px;max-height:0=
px;overflow:hidden" src=3D"https://mailfoogae.appspot.com/t?sender=3Daam9za=
EBqb3NoLmlz&amp;type=3Dzerocontent&amp;guid=3D1382145d-d5bf-493d-b62e-c472a=
7676149"><font color=3D"#ffffff" size=3D"1">=E1=90=A7</font></div><br><div =
class=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail_attr">On Wed, Oct 6, =
2021 at 3:33 PM Hamza Qureshi &lt;<a href=3D"mailto:qureshi.a.hamza@gmail.c=
om">qureshi.a.hamza@gmail.com</a>&gt; wrote:<br></div><blockquote class=3D"=
gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(20=
4,204,204);padding-left:1ex">Just to add, everything else works fine. The s=
ervo responds to the coin sensor, and it also responds to both of the perch=
 switches. The issue here is that it is responding incorrectly.=C2=A0<br><b=
r><div class=3D"gmail_quote"><div dir=3D"auto" class=3D"gmail_attr">On Wedn=
esday, October 6, 2021 at 4:28:49 PM UTC+1 Hamza Qureshi wrote:<br></div><b=
lockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-le=
ft:1px solid rgb(204,204,204);padding-left:1ex">Hi all,=C2=A0<div><br></div=
><div>I purchased a new Servo as the last one was the wrong make. This time=
 I got the 180 degrees one (the correct one): <a href=3D"https://www.botnro=
ll.com/pt/servos/2641-servo-towerpro-mg995-servo-180.html" rel=3D"nofollow"=
 target=3D"_blank">https://www.botnroll.com/pt/servos/2641-servo-towerpro-m=
g995-servo-180.html</a></div><div><br></div><div>During the boot up and ent=
ry into <b>Stage 1</b>, it rotated more times than I expected it to. Howeve=
r, it ended up parked open. So that kind of worked.=C2=A0</div><div><br></d=
iv><div><b>Stage 2</b>, clicking the perch switches did activate the food l=
id, however, like in the boot-up, it rotated more times than I expected it =
to. Also, it did not pause while open. Instead, it kept sliding back and fo=
rth halfway, and then eventually closed incrementally. So <b>half </b>corre=
ct.=C2=A0</div><div><br></div><div><b>Stage 3</b>, it worked! It worked per=
fectly. See here:=C2=A0<a href=3D"https://www.youtube.com/watch?v=3DgDOyRlo=
RX5A" rel=3D"nofollow" target=3D"_blank">https://www.youtube.com/watch?v=3D=
gDOyRloRX5A</a></div><div><br></div><div>After a short while, <b>Stage 3</b=
>=C2=A0stopped working. I switched to=C2=A0<b>Stage 4</b>, and it didn&#39;=
t work properly either. See here:=C2=A0<a href=3D"https://www.youtube.com/w=
atch?v=3DJ8ygK2GyM68" rel=3D"nofollow" target=3D"_blank">https://www.youtub=
e.com/watch?v=3DJ8ygK2GyM68</a></div><div><br></div><div>After another shor=
t while, <b>Stage 4</b>=C2=A0started doing something very strange. It enter=
ed a loop:=C2=A0=C2=A0<a href=3D"https://www.youtube.com/watch?v=3DgkFu2a1P=
pWw" rel=3D"nofollow" target=3D"_blank">https://www.youtube.com/watch?v=3Dg=
kFu2a1PpWw</a></div><div><br></div><div>During this loop, I could not chang=
e stages or do anything else. So I unplugged the Arduino and wanted to rese=
t the EEPROM. I uploaded a simple sketch:</div><div><br></div><div><div><sp=
an style=3D"background-color:black"><font color=3D"#ffffff">#include &lt;EE=
PROM.h&gt;</font></span></div><div><span style=3D"background-color:black"><=
font color=3D"#ffffff">void setup() {</font></span></div><div><span style=
=3D"background-color:black"><font color=3D"#ffffff">=C2=A0 // put your setu=
p code here, to run once:</font></span></div><div><span style=3D"background=
-color:black"><font color=3D"#ffffff">=C2=A0 // initialize the LED pin as a=
n output.</font></span></div><div><span style=3D"background-color:black"><f=
ont color=3D"#ffffff">=C2=A0 =C2=A0pinMode(13, OUTPUT);</font></span></div>=
<div><span style=3D"background-color:black"><font color=3D"#ffffff"><br></f=
ont></span></div><div><span style=3D"background-color:black"><font color=3D=
"#ffffff">=C2=A0 =C2=A0for (int i =3D 0 ; i &lt; EEPROM.length() ; i++) {</=
font></span></div><div><span style=3D"background-color:black"><font color=
=3D"#ffffff">=C2=A0 =C2=A0 =C2=A0 EEPROM.write(i, 0);</font></span></div><d=
iv><span style=3D"background-color:black"><font color=3D"#ffffff">=C2=A0 =
=C2=A0}</font></span></div><div><span style=3D"background-color:black"><fon=
t color=3D"#ffffff"><br></font></span></div><div><span style=3D"background-=
color:black"><font color=3D"#ffffff">=C2=A0 =C2=A0// turn the LED on when w=
e&#39;re done</font></span></div><div><span style=3D"background-color:black=
"><font color=3D"#ffffff">=C2=A0 =C2=A0digitalWrite(13, HIGH);</font></span=
></div><div><span style=3D"background-color:black"><font color=3D"#ffffff">=
}</font></span></div><div><span style=3D"background-color:black"><font colo=
r=3D"#ffffff"><br></font></span></div><div><span style=3D"background-color:=
black"><font color=3D"#ffffff">void loop() {</font></span></div><div><span =
style=3D"background-color:black"><font color=3D"#ffffff">=C2=A0 // put your=
 main code here, to run repeatedly:</font></span></div><div><span style=3D"=
background-color:black"><font color=3D"#ffffff">}</font></span></div></div>=
<div><br></div><div>And reuploaded the cros OS. Starting from Stage 1 again=
, everything still occurred like it did before (incorrectly, that is).=C2=
=A0</div><div><br></div><div>So I thought that perhaps I have received anot=
her faulty servo. I decided to run a test software on the Servo this time. =
I wanted the Servo to spin 180 degrees one way, and back again. I wanted th=
is to be repeated in a loop. Here is the simple sketch I uploaded to the Ar=
duino:=C2=A0</div><div><br></div><div><div><br></div><div><font style=3D"ba=
ckground-color:black" color=3D"#ffffff">#include &lt;Servo.h&gt; // include=
 servo library to use its related functions</font></div><div><font style=3D=
"background-color:black" color=3D"#ffffff">#define Servo_PWM 9 // A descrip=
tive name for D6 pin of Arduino to provide PWM signal</font></div><div><fon=
t style=3D"background-color:black" color=3D"#ffffff">Servo MG995_Servo;=C2=
=A0 // Define an instance of of Servo with the name of &quot;MG995_Servo&qu=
ot;</font></div><div><span style=3D"background-color:black"><br></span></di=
v><div><font style=3D"background-color:black" color=3D"#ffffff">void setup(=
) {</font></div><div><font style=3D"background-color:black" color=3D"#fffff=
f">=C2=A0 Serial.begin(9600); // Initialize UART with 9600 Baud rate</font>=
</div><div><font style=3D"background-color:black" color=3D"#ffffff">=C2=A0 =
MG995_Servo.attach(Servo_PWM);=C2=A0 // Connect D6 of Arduino with PWM sign=
al pin of servo motor</font></div><div><font style=3D"background-color:blac=
k" color=3D"#ffffff">}</font></div><div><font style=3D"background-color:bla=
ck" color=3D"#ffffff"><br></font></div><div><font style=3D"background-color=
:black" color=3D"#ffffff">void loop() {</font></div><div><font style=3D"bac=
kground-color:black" color=3D"#ffffff">=C2=A0 Serial.println(&quot;0&quot;)=
;// You can display on the serial the signal value</font></div><div><font s=
tyle=3D"background-color:black" color=3D"#ffffff">=C2=A0 MG995_Servo.write(=
0); //Turn clockwise at high speed</font></div><div><font style=3D"backgrou=
nd-color:black" color=3D"#ffffff">=C2=A0 delay(3000);</font></div><div><fon=
t style=3D"background-color:black" color=3D"#ffffff">=C2=A0 MG995_Servo.det=
ach();//Stop. You can use deatch function or use write(x), as x is the midd=
le of 0-180 which is 90, but some lack of precision may change this value</=
font></div><div><font style=3D"background-color:black" color=3D"#ffffff">=
=C2=A0 delay(2000);</font></div><div><font style=3D"background-color:black"=
 color=3D"#ffffff">=C2=A0 MG995_Servo.attach(Servo_PWM);//Always use attach=
 function after detach to re-connect your servo with the board</font></div>=
<div><font style=3D"background-color:black" color=3D"#ffffff">=C2=A0 Serial=
.println(&quot;0&quot;);//Turn left high speed</font></div><div><font style=
=3D"background-color:black" color=3D"#ffffff">=C2=A0 MG995_Servo.write(180)=
;</font></div><div><font style=3D"background-color:black" color=3D"#ffffff"=
>=C2=A0 delay(3000);</font></div><div><font style=3D"background-color:black=
" color=3D"#ffffff">=C2=A0 MG995_Servo.detach();//Stop</font></div><div><fo=
nt style=3D"background-color:black" color=3D"#ffffff">=C2=A0 delay(2000);</=
font></div><div><font style=3D"background-color:black" color=3D"#ffffff">=
=C2=A0 MG995_Servo.attach(Servo_PWM);</font></div><div><font style=3D"backg=
round-color:black" color=3D"#ffffff">}</font></div></div><div><br></div><di=
v>And it worked. Perfectly. Check it out here:=C2=A0<a href=3D"https://www.=
youtube.com/watch?v=3DY0tDVEZWXxo" rel=3D"nofollow" target=3D"_blank">https=
://www.youtube.com/watch?v=3DY0tDVEZWXxo</a></div><div><br></div><div>I lef=
t it running for a while, and it did not falter. So now I am really confuse=
d. This does not seem to be a servo issue. It does not appear to be a power=
 issue either (this is the unit I am using:=C2=A0=C2=A0<a href=3D"https://w=
ww.botnroll.com/pt/alimentadores-acdc-5v/878-alimentador-5v-dc-2a-.html" re=
l=3D"nofollow" target=3D"_blank">https://www.botnroll.com/pt/alimentadores-=
acdc-5v/878-alimentador-5v-dc-2a-.html</a> ).=C2=A0</div><div><br></div><di=
v>Is there an issue with the code? Perhaps it is the Arduino? Although the =
Ardunio is working with everything else. I am using the original Arduino Un=
o R3.=C2=A0</div><div><br></div><div>Please if anyone could help me, I woul=
d really appreciate it! I would like some input from the Crowbox team befor=
e I purchase a really expensive servo.=C2=A0</div><div><br></div><div>Thank=
s :)=C2=A0</div><div><br></div></blockquote></div>

<p></p>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;Crow Box Kit&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:CrowBoxKit+unsubscribe@googlegroups.com" target=
=3D"_blank">CrowBoxKit+unsubscribe@googlegroups.com</a>.<br>
To view this discussion on the web visit <a href=3D"https://groups.google.c=
om/d/msgid/CrowBoxKit/90a63a18-9c8e-40f4-99ed-f754c1ddbf9fn%40googlegroups.=
com?utm_medium=3Demail&amp;utm_source=3Dfooter" target=3D"_blank">https://g=
roups.google.com/d/msgid/CrowBoxKit/90a63a18-9c8e-40f4-99ed-f754c1ddbf9fn%4=
0googlegroups.com</a>.<br>
</blockquote></div>

--000000000000b2cb9405cdc3fdd0--