Delivered-To: josh@josh.is
Received: by 2002:a59:a5e9:0:b0:237:8407:3a71 with SMTP id i9csp3698466vqp;
        Thu, 14 Oct 2021 09:00:07 -0700 (PDT)
X-Received: by 2002:ac8:8c:: with SMTP id c12mr7458136qtg.12.1634227207434;
        Thu, 14 Oct 2021 09:00:07 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1634227207; cv=none;
        d=google.com; s=arc-20160816;
        b=RFaL/y9PTEoXJc+l7myMjZXJwxX3Z3cqnSINv8YcmEQOfHVKSjzOZ+VKZO67MSepkL
         NK9/N8V4O0amywZWVoOAd8tcksnKtycbqEZ6/4478o7yFB+M8gMOlq9L847huCj5gHV7
         i1ut5tY58taMtKQnPlUB8XqKrGFu4Qz/5hO0RLlIXQe9YAOIPc/G7mE9F+nMtB4nGCmE
         Iwz9ZGMxTdBie6nM2neStqCQRlJkQ009I4l/y3x+FhMW0dm43x4hGiOKwh0v8qJskC6B
         ypjljTrWkyDu6X3t0SWhLjpi/Mf/RLr3D+folkqSLM2yEUe0gqrccJvHfjvQBExfaRuu
         uNKg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=to:subject:message-id:date:from:in-reply-to:references:mime-version
         :dkim-signature;
        bh=BQjLphAz5C2kDtkOXC7Dem+RaL8592t9igXa+MIDhR4=;
        b=q7I6PrLmTkUxeWA3/wM5aIQ1yEGwiakmbyE3r58R35ZnS5kJlrAEseHNvRbU2SxF+q
         ery5IbEaQgHPuXy4pj7P6la4u/D8V7b2iEbUyxRAZ8/nknQTYcc5shNxYiA0PpDidGC2
         er9RIJ/phaew4XCzmeVv1ct8jXdKKn6f/PNNnH0NLF47qqVEsMjUOEv1mE1n69+mvDgh
         QHt+Zf12HMis8yXBlH8YsYqbyPEaZHk8gXkF9W0ObVTuAqFJVE2GQkQAGNLjSa5t/3DG
         yqdyabRXm1y7Wpa9/ADn9HXO1cW8ysernQ5Qybiv1MfaL5e04tZN9NBYz09CDBVsum++
         EYzg==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20210112 header.b="BAEpI/6Y";
       spf=pass (google.com: domain of pyroballpcs@gmail.com designates 209.85.220.41 as permitted sender) smtp.mailfrom=pyroballpcs@gmail.com;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Return-Path: <pyroballpcs@gmail.com>
Received: from mail-sor-f41.google.com (mail-sor-f41.google.com. [209.85.220.41])
        by mx.google.com with SMTPS id k19sor1321815qko.21.2021.10.14.09.00.07
        for <josh@josh.is>
        (Google Transport Security);
        Thu, 14 Oct 2021 09:00:07 -0700 (PDT)
Received-SPF: pass (google.com: domain of pyroballpcs@gmail.com designates 209.85.220.41 as permitted sender) client-ip=209.85.220.41;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20210112 header.b="BAEpI/6Y";
       spf=pass (google.com: domain of pyroballpcs@gmail.com designates 209.85.220.41 as permitted sender) smtp.mailfrom=pyroballpcs@gmail.com;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=BQjLphAz5C2kDtkOXC7Dem+RaL8592t9igXa+MIDhR4=;
        b=BAEpI/6YoX3qFyKjysCV/1uucbYp+IUe18rUZpOy45ffyEI0JN18VLBLy9y2vGUFLu
         e0pz8R0PnnNfZKDrTM+4r/8ygCCYQnH0sj8GsDTcNjrBoLMcrk/J9xUP3JHfV6VH4vE/
         lLIhtfGMxi8FzeAk+OXyY/vm/lwFKxn3p0+Z6abcffZc0OaknlgOuIyzOhr3Wgmyxqbp
         0PTwQeJ4XDDY51O0V4ML+h0LV/wlxAPpW/C6zsk1isI+Cz9XokYF6qvNGPU5SxuEyKpg
         5I1R7/+sAVbwE0fJKAm/ZrNpuK5YhIJiaTSvS+ECOfSMqoGRZGpLShGKw9Cmv/ldjUSO
         qkHg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to;
        bh=BQjLphAz5C2kDtkOXC7Dem+RaL8592t9igXa+MIDhR4=;
        b=WnAhkzZEzHxJcCueDtglflyqHzOwVavqAxr3m7IPnIasCAFtSC603DecelNKmdTPFo
         eTU1jIoSf1Rzam3KR0fCQp2SEmPIDsypDaWXJPyFSHZythdugbRv3Jwx+bg4JTvsqOCM
         Y6fVr0TJSoL7LCKyq1eHAAy5bn2hJDvVj5mTVCTRKwCkC43Vj9ZQKyiQG+R4rQW7jmTg
         xmBuJ/ZYc2F7HD9R/er2tqA2+hOUkkFitdEztG/TwB9AFfFS0xYiylLwenU7tEPiEI4X
         Owoh853LV8zgnb6P19freAGbGGHbXlzDIZLwSTkT2ypNb5vpISK/xsfbSHGDpqchWVKk
         3ZQg==
X-Gm-Message-State: AOAM530L2J/6tdsSJWuqcAuWXgMGKwcCzSNCMt486M3Paqg8yIcWjUZH
	0m31JhmNToyxygpvOxk6NZtEjJ0gG587mP/peXvfMJlb
X-Google-Smtp-Source: ABdhPJxfjKcX5YXkKYMQQJEa65DVJZgLqbl/uAWAyb51wfH8cN6V3Yea2kbRaKlSQrv8kV0DjhrRAYDGJYjYItmzFYw=
X-Received: by 2002:a05:620a:29d3:: with SMTP id s19mr5436760qkp.353.1634227206564;
 Thu, 14 Oct 2021 09:00:06 -0700 (PDT)
MIME-Version: 1.0
References: <CAKsYy1BRESg0iDrRpFfsipOjA8QcsoXV73BPxq7io96KjbTLng@mail.gmail.com>
 <CACNgykPFZKYWGAnyUVq8GSeGSc9i35JCuiS-PVhAKAvjtF-Ecg@mail.gmail.com>
In-Reply-To: <CACNgykPFZKYWGAnyUVq8GSeGSc9i35JCuiS-PVhAKAvjtF-Ecg@mail.gmail.com>
From: Alan Weinstock <pyroballpcs@gmail.com>
Date: Thu, 14 Oct 2021 08:59:30 -0700
Message-ID: <CAKsYy1DuPFaZzYfBjboFdVNCKBOjYNqGmpZcOayLLk=qn9_XzA@mail.gmail.com>
Subject: Re: CrowBox Site Security Concerns
To: Josh Klein <josh@josh.is>
Content-Type: multipart/alternative; boundary="000000000000212e6705ce522ca0"

--000000000000212e6705ce522ca0
Content-Type: text/plain; charset="UTF-8"

Okipokey,

I'll get a list of issues and fixes together for you as time permits, but
the easiest thing I can recommend off the bat is to install and run Certbot
<https://certbot.eff.org/instructions>. That'll solve a lot of your SSL and
nginx configuration issues.

I know there's a couple of different PHP versions running on that server
(different versions for different domains from what I can tell.) and one of
those is the biggest exploitable vulnerability (the one running v5.x) that
I can see from a cursory glance.

I'm not sure if you're hosting this server yourself or if it's a shared
server, but there's a bunch of open ports and services listening without
any kind of masking or IP allow-listing. If you can, I'd recommend binding
these services to listen only on a local adapter and run your connections
through a private VPN hosted on the same server. Failing that, you can
migrate the service ports up into the high 20000's and above to avoid
regular scanners from detecting them, but this is more of a "sweeping the
issue under the rug" kind of solution as any competent attacker will still
check those ranges.

I'll get back in touch with a more detailed list!

-Alan

On Tue, Oct 12, 2021 at 12:13 AM Josh Klein <josh@josh.is> wrote:

> Sure, always happy for free advice - thanks!
>
> On Mon, Oct 11, 2021 at 22:38 Alan Weinstock <pyroballpcs@gmail.com>
> wrote:
>
>> Hello Josh,
>>
>> I'm reaching out after getting some advice from the CrowBox community
>> (Rodion Mutsolgov recommended I contact you directly) about the web
>> configuration and security for the server hosting thecrowbox.com.
>>
>> The site has a number of security vulnerabilities that I'm concerned may
>> be exploited and cause that server to become compromised and used for
>> nefarious purposes (other than simple egress of data).
>>
>> I'd be happy to share my findings if you're interested, and if you're
>> not, I'd be happy to drop the issue. Just let me know.
>>
>>
>> - Alan
>>
>

--000000000000212e6705ce522ca0
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Okipokey,<br><br>I&#39;ll get a list of issues and fixes t=
ogether for you as time permits, but the easiest thing I can recommend off =
the bat is to <a href=3D"https://certbot.eff.org/instructions">install and =
run Certbot</a>. That&#39;ll solve a lot of your SSL and nginx configuratio=
n issues.<br><br>I know there&#39;s a couple of different PHP versions runn=
ing on that server (different versions for different domains from what I ca=
n tell.) and one of those is the biggest exploitable vulnerability (the one=
 running v5.x) that I can see from a cursory glance.<br><br>I&#39;m not sur=
e if you&#39;re hosting this server yourself or if it&#39;s a shared server=
, but there&#39;s a bunch of open ports and services listening without any =
kind of masking or IP allow-listing. If you can, I&#39;d recommend binding =
these services to listen only on a local adapter and run your connections t=
hrough a private VPN hosted on the same=C2=A0server. Failing that, you can =
migrate the service ports up into the high 20000&#39;s and above to avoid r=
egular scanners from detecting them, but this is more of a &quot;sweeping t=
he issue under the rug&quot; kind of solution as any competent attacker wil=
l still check those ranges.<br><div><br>I&#39;ll get back in touch with a m=
ore detailed list!</div><div><br></div><div>-Alan</div></div><br><div class=
=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail_attr">On Tue, Oct 12, 2021=
 at 12:13 AM Josh Klein &lt;<a href=3D"mailto:josh@josh.is" target=3D"_blan=
k">josh@josh.is</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" s=
tyle=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);pad=
ding-left:1ex"><div dir=3D"auto">Sure, always happy for free advice - thank=
s!</div><div><br><div class=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail=
_attr">On Mon, Oct 11, 2021 at 22:38 Alan Weinstock &lt;<a href=3D"mailto:p=
yroballpcs@gmail.com" target=3D"_blank">pyroballpcs@gmail.com</a>&gt; wrote=
:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.=
8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir=3D"lt=
r">Hello Josh,<div><br>I&#39;m reaching out after getting some advice from =
the CrowBox community (Rodion Mutsolgov recommended I contact you directly)=
 about the web configuration and security for the server hosting <a href=3D=
"http://thecrowbox.com" target=3D"_blank">thecrowbox.com</a>.<br><br>The si=
te has a number of security vulnerabilities that I&#39;m concerned may be e=
xploited and cause that server to become compromised and used for nefarious=
 purposes (other than simple egress of data).<br><br>I&#39;d be happy to sh=
are my findings if you&#39;re interested, and if you&#39;re not, I&#39;d be=
 happy to drop the issue. Just let me know.</div></div><div dir=3D"ltr"><di=
v><br><br>- Alan</div></div>
</blockquote></div></div>
</blockquote></div>

--000000000000212e6705ce522ca0--
