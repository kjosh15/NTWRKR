Delivered-To: josh@josh.is
Received: by 2002:a2e:b4a1:0:0:0:0:0 with SMTP id q1csp1366306ljm;
        Mon, 8 Mar 2021 01:09:08 -0800 (PST)
X-Google-Smtp-Source: ABdhPJzmFwJFPlQQsxOaox57urkgZv9sAeQjZOMTpAmz1bZ8IQ1b4geG9QyYdsAEnYFymxt+dcsZ
X-Received: by 2002:a05:622a:4d3:: with SMTP id q19mr19575709qtx.316.1615194548457;
        Mon, 08 Mar 2021 01:09:08 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1615194548; cv=none;
        d=google.com; s=arc-20160816;
        b=AChGHqeokEjSSonitYnmqjMwNUb8an9KbfBFNEMf/jR5uuM8hkfnsrH/FS9B5H6dJD
         ZDtXyISJyg4kRwycmhWkcUKtimqVOOhUafR0q0XIQeMBdgOfYPC+qw92G1AYbVH/DT1P
         aQuBMgNfF/LmrKp4fGGgJIIwULAovu3KcU1rG40k0u2w3GXl69mO/cYcMKuprcm7HcaD
         EcvBc2oJfw+0nG6DlTeAmPA+Mr1OvQhst2mBxpoEqWeXbGu7+JJUn7VMaKD4YolbrqWR
         lkjI1xxHtSnR1m+Nx1LmSi7z2xluhYFD+c0eVf7Z4tcQssvQARfgnZbC44XoWgfyFLY3
         DPRg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=content-language:thread-index:mime-version:message-id:date:subject
         :to:from;
        bh=dKuTvyqekkls9+RHa1Gecol06NTlaqwIKuFdTU0qPV4=;
        b=sLSS7UnkQ6IvQc2RB/59kzIRWxzzGgvIiXqaPMC64ZjI2l60ghftgihRQ0rzIZjyZV
         HfoT1SWScdZZqlQLCqrEBSoXvuWM3Dj81aR9yXpo1RAkaZlzgo3+yg8GJ/pSWMiRkt6G
         AsD1g8qd22eLl3RzCLI5kjPKX7UcfLEYS6ssNTjH9gC8WpXPuT31SBu8rZssxKYrWQ2f
         Y+wgbFtlKhwoIMqO2U/26FemYLwzf4h+XjYzISO0661DaQCIN53+8VwtE7pGnCfbcv8R
         LVXHCs63ZvKXR0aTUcDUcorCpOXNTq7mCHdEw2mjm16z1q//CAv68vw/NutKYaV8sPgw
         j32A==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: domain of chris@indigometrics.com designates 198.71.225.37 as permitted sender) smtp.mailfrom=chris@indigometrics.com;
       dmarc=pass (p=REJECT sp=REJECT dis=NONE) header.from=indigometrics.com
Return-Path: <chris@indigometrics.com>
Received: from a2nlsmtp01-03.prod.iad2.secureserver.net (a2nlsmtp01-03.prod.iad2.secureserver.net. [198.71.225.37])
        by mx.google.com with ESMTPS id b3si5862212qtr.369.2021.03.08.01.09.08
        for <josh@josh.is>
        (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 08 Mar 2021 01:09:08 -0800 (PST)
Received-SPF: pass (google.com: domain of chris@indigometrics.com designates 198.71.225.37 as permitted sender) client-ip=198.71.225.37;
Authentication-Results: mx.google.com;
       spf=pass (google.com: domain of chris@indigometrics.com designates 198.71.225.37 as permitted sender) smtp.mailfrom=chris@indigometrics.com;
       dmarc=pass (p=REJECT sp=REJECT dis=NONE) header.from=indigometrics.com
Received: from mailout01.c01 ([64.207.129.78])
	by : HOSTING RELAY : with ESMTP
	id JBryl6sRxf48iJBrylJ1rd; Mon, 08 Mar 2021 02:08:06 -0700
X-CMAE-Analysis: v=2.4 cv=ev4acqlX c=1 sm=1 tr=0 ts=6045e976
 a=rHVhcZ7MkiYw9pwnR3G25w==:117 a=wEOr92zfVAYr/SVmHhaHNw==:17
 a=dESyimp9J3IA:10 a=DAwyPP_o2Byb1YXLmDAA:9 a=vggBfdFIAAAA:8
 a=72FYHrRBKcjJwyF6B9MA:9 a=CjuIK1q_8ugA:10 a=yMhMjlubAAAA:8 a=SSmOFEACAAAA:8
 a=BoYANIiDEC9frauYUK0A:9 a=B10NULiidGGluuvs:21 a=gKO2Hq4RSVkA:10
 a=UiCQ7L4-1S4A:10 a=hTZeC7Yk6K0A:10 a=frz4AuCg-hUA:10 a=6ZM5skEo4rIA:10
 a=BPzZvq435JnGatEyYwdK:22
X-SECURESERVER-ACCT: D9664824D559B91A226E3453D3C7ECC4C6CE5B41
Received: from cl09.gs01.gridserver.com ([64.13.192.18])
	by mailout01.c01 with esmtp (Exim 4.80)
	(envelope-from <chris@indigometrics.com>)
	id 1lJBrx-0003ql-8P
	for josh@josh.is; Mon, 08 Mar 2021 01:08:06 -0800
Received: from [90.214.100.168] (port=51704 helo=DESKTOPVL3QK79)
	by cl09.gs01.gridserver.com with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
	(Exim 4.84_2)
	(envelope-from <chris@indigometrics.com>)
	id 1lJBrq-0005hI-I6
	for josh@josh.is; Mon, 08 Mar 2021 01:08:05 -0800
From: <chris@indigometrics.com>
To: "'Josh Klein'" <josh@josh.is>
Subject: S3 bucket
Date: Mon, 8 Mar 2021 09:07:57 -0000
Message-ID: <00e801d713fa$88ab04e0$9a010ea0$@indigometrics.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00E9_01D713FA.88AD9CF0"
X-Mailer: Microsoft Outlook 16.0
Thread-Index: AdcT+oUijzdQ89OMR62hJP0d8yrB2w==
Content-Language: en-gb
X-MT-INTERNAL-ID: D9664824D559B91A226E3453D3C7ECC4C6CE5B41
X-Authenticated-User: 44066 chris@indigometrics.com
X-Spam-Status: "score=0.0 tests=ALL_TRUSTED, HTML_MESSAGE version=3.4.2 cmae=_CMAETAG_"
X-Spam-Level: *
X-Spam_score: 0.0
X-Spam_score_int: 0
X-CMAE-Envelope: MS4xfA80QL0VHuGIIbinkMP0uaOhNmMRCRezKb7aB9Hw2+p6QEeW1C97B9sxLbceSxqgQN7EUnfRZ/zqFq5SxU7CJulHHDrfm+9Oyt2XoPBSLNYeVJaJdcJE
 IO3gMvsjjRfluNbhotz1AZm+8ka08ttspsTY6a256Az5A7ImzDktYPvISj/tib9/whA54i/zFaO0vA==

This is a multipart message in MIME format.

------=_NextPart_000_00E9_01D713FA.88AD9CF0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi Chris, I would suggest taking a look at the 'S3 Access Points' method of
granting this access
https://aws.amazon.com/blogs/storage/setting-up-cross-account-access-with-s3
-access-points/  with some JSON policy examples here
https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-points-policies
.html.

 

A quick and dirty policy I built in the online policy generator tool looks
like:

{
  "Id": "Policy1614276899605",
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "Stmt1614276893722",
      "Action": [
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "Effect": "Allow",
      "Resource": "arn:aws:s3:::thebucketwithdata",
      "Principal": {
        "AWS": [
          "525675737756"
        ]
      }
    }
  ]
}

 

 

  _____  


------=_NextPart_000_00E9_01D713FA.88AD9CF0
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" =
xmlns=3D"http://www.w3.org/TR/REC-html40"><head><META =
HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii"><meta name=3DGenerator content=3D"Microsoft Word 15 =
(filtered medium)"><!--[if !mso]><style>v\:* =
{behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:#0563C1;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri",sans-serif;
	color:windowtext;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";
	mso-fareast-language:EN-GB;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri",sans-serif;
	mso-fareast-language:EN-US;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DEN-GB =
link=3D"#0563C1" vlink=3D"#954F72" style=3D'word-wrap:break-word'><div =
class=3DWordSection1><p class=3DMsoNormal =
style=3D'background:white'><span =
style=3D'font-size:12.0pt;color:black'>Hi Chris, I would suggest taking =
a look at the 'S3 Access Points' method of granting this access&nbsp;<a =
href=3D"https://aws.amazon.com/blogs/storage/setting-up-cross-account-acc=
ess-with-s3-access-points/">https://aws.amazon.com/blogs/storage/setting-=
up-cross-account-access-with-s3-access-points/</a>&nbsp; with some JSON =
policy examples here&nbsp;<a =
href=3D"https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-poin=
ts-policies.html">https://docs.aws.amazon.com/AmazonS3/latest/userguide/a=
ccess-points-policies.html</a>.<o:p></o:p></span></p><p =
class=3DMsoNormal><span =
style=3D'font-size:12.0pt;color:black'><o:p>&nbsp;</o:p></span></p><p =
class=3DMsoNormal><span style=3D'font-size:12.0pt;color:black'>A quick =
and dirty policy I built in the online policy generator tool looks =
like:<o:p></o:p></span></p><div =
style=3D'mso-element:para-border-div;border:solid #CCCCCC =
1.0pt;padding:11.0pt 11.0pt 11.0pt 11.0pt;background:white'><pre =
style=3D'background:white;border:none;padding:0cm;outline: =
0px;overflow-wrap: break-word'><span =
style=3D'color:#333333'>{<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &quot;Id&quot;: =
&quot;Policy1614276899605&quot;,<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &quot;Version&quot;: =
&quot;2012-10-17&quot;,<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &quot;Statement&quot;: =
[<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; {<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &quot;Sid&quot;: =
&quot;Stmt1614276893722&quot;,<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &quot;Action&quot;: =
[<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &nbsp; =
&quot;s3:GetObject&quot;,<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &nbsp; =
&quot;s3:ListBucket&quot;<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; =
],<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &quot;Effect&quot;: =
&quot;Allow&quot;,<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &quot;Resource&quot;: =
&quot;arn:aws:s3:::thebucketwithdata&quot;,<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &quot;Principal&quot;: =
{<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &nbsp; &quot;AWS&quot;: =
[<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =
&quot;525675737756&quot;<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; &nbsp; =
]<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; &nbsp; =
}<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; &nbsp; }<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>&nbsp; ]<o:p></o:p></span></pre><pre =
style=3D'background:white;border:none;padding:0cm'><span =
style=3D'color:#333333'>}<o:p></o:p></span></pre></div><p =
class=3DMsoNormal><span =
style=3D'font-size:12.0pt;color:black'><o:p>&nbsp;</o:p></span></p><p =
class=3DMsoNormal><span =
style=3D'font-size:12.0pt;color:black'><o:p>&nbsp;</o:p></span></p><div =
class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><hr =
size=3D2 width=3D"98%" align=3Dcenter></div></div></body></html>
------=_NextPart_000_00E9_01D713FA.88AD9CF0--

