MIME-Version: 1.0
Date: Fri, 8 Jan 2021 08:58:10 +0000
References: <CAAdG8PgTS1dBhvjeniyj+-grWqOkJiL2RvdgpkZF+X8HC_xqwg@mail.gmail.com>
	<CACNgykM+CeasPNg3fy+GoOOWaVDfjXsiDerWSsV1=6LsWe0wNg@mail.gmail.com>
	<CAAdG8PgwzJ=JS1dfJb8JGY-y0_qkqr-BVurvVfzvRCPc72zsiQ@mail.gmail.com>
In-Reply-To: <CAAdG8PgwzJ=JS1dfJb8JGY-y0_qkqr-BVurvVfzvRCPc72zsiQ@mail.gmail.com>
Message-ID: <CACNgykO2N-kLOnLjMqEA02Sr0HOoxLah58qgSRHU21qyCK=n1A@mail.gmail.com>
Subject: Re: Preliminary power save results
From: Josh Klein <josh@josh.is>
To: Steve Bond <stevebond@gmail.com>
Content-Type: multipart/alternative; boundary="0000000000007d586805b85fc1e8"

--0000000000007d586805b85fc1e8
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Agreed that we should stick with the UNOs based on the skill level we seem
to be seeing via the list. It sounds like we have a solid floor for power -
what does this mean for the solar options?

One other idea - and it may be a really bad one - that I had in the shower
was to just set a clock stamp to downcycle the sleep mode during
night-time. Even if we only left it off from midnight to 5am that could
reduce drain substantially, no? I'm pretty sure you've already thought
through this but wanted to get your thinking.

- J

- J
=E1=90=A7

On Fri, Jan 8, 2021 at 1:14 AM Steve Bond <stevebond@gmail.com> wrote:

> I'm not sure why I have a different number. I looked over my notes which
> showed that an idle Arduino UNO consumes 45mA, and that we were pulling
> 47mA, showing that our software costs 1-2 mA to run.
>
> Now I'm showing a pull of 53mA. The ONLY difference is that I ran my
> isolated ammeter from a battery pack when I did our first tests and I ran
> it from a bench power supply for this test.
>
> That shouldn't matter, but it's POSSIBLE I ran the ammeter from a 12v
> battery pack back in Woodinville and ran it at 7.5V from the bench power
> supply here. Again, that shouldn't matter unless the ammeter isn't suppos=
ed
> to work at 7.5 volts and I just forgot how much power I gave it in
> Woodinville. I'll make sure to check this.
>
> Sounds like we will not get under 35mA on an Arduino UNO. I got it down t=
o
> 38 today with just some basic sleep stuff but we are still paying overhea=
d
> for the onboard power LED and the voltage regulator, etc. So we're pretty
> much at the max savings. The only way to save more power is to burn out t=
he
> surface-mount LED with a soldering iron and cut PCB traces that lead to t=
he
> voltage regulator, brown out detector, and other subcircuits. I don't thi=
nk
> we should ever recommend people do any of these things.
>
> To save more energy we'd have to change the board we are using. If we
> built a Crowbox around an Arduino NANO we'd drop to 19mA with NO sleep
> work. So we could cleave consumption in half just by changing the board.
> Nanos run lean so we wouldn't be able to get down much lower than that ev=
en
> with sleep mode.
>
> We didn't use Nanos for a couple of reasons. One reason is that if you bu=
y
> the cheap ones and don't read what you're getting, you get a board which
> needs to have its header pins soldered on. No big deal for hobbyists but
> for amateurs this would be a disaster. UNOs always come with headers
> installed, even the cheap ones.
>
> The other reason is that we'd need to plug the Nano into a breadboard and
> run wires breadboard-to-breadboard and we agreed that the labeled header
> pins on an Arduino UNO made for more positive targets for amateur builder=
s,
> reducing potential wiring errors.
>
> So, there we are.
>
> On Thu, Jan 7, 2021 at 1:14 PM Josh Klein <josh@josh.is> wrote:
>
>> You caught me, just!
>>
>> Huh; what do you think accounts for the increased power draw?
>>
>> I=E2=80=99d be curious if anyone online has done a side-by-side of the
>> rocketscream vs the official library: could that save you some trouble?
>>
>> Last thing is I=E2=80=99m stoked to see what the voltaic does. Could be =
a real
>> game changer, esp. in conjunction with the power savings you=E2=80=99re =
finding!
>>
>> - J
>>
>>
>> On Thu, Jan 7, 2021 at 9:03 PM Steve Bond <stevebond@gmail.com> wrote:
>>
>>> Trying to get this to you before you go to bed there in Iceland. Not
>>> sure if I succeeded.
>>>
>>>
>>> So, I'm getting idle current draws at 53mA. My tests back in Woodinvill=
e
>>> showed 47mA. I don't know why the data is different but right now we're
>>> pulling 53mA.
>>>
>>> With the low power library and putting the Crowbox to sleep with the A/=
D
>>> Converter switched off and the Brownout Detector switched off, consumpt=
ion
>>> goes down to 38mA. That is 15mA saved going down from 38 from 53. That'=
s
>>> about 29% savings.
>>>
>>> Here are options moving forward:
>>>
>>> -Explore more shit to disable while the Arduino sleeps
>>>
>>> -I found an official Arduino low power library (versus the Rocketscream
>>> library I'm using now). It's designed to save energy on some of the new=
er
>>> energy-hogging Arduinos but I'm going to write a quick version of CrOS =
to
>>> work with this library as well and see if there's a way to push this do=
wn
>>> more.
>>>
>>> My Voltaic stuff came today. The power bank is cool. The 2W solar panel
>>> is smaller than I expected. Smaller than two smartphones side-by-side. =
The
>>> 3W panel is the same width and one more set of cells tall. So, if we ha=
ve
>>> to use a 3W panel, at least it's not much bigger. I'll do some output t=
ests
>>> on the panel later but probably not today.
>>>
>>> -Steve
>>>
>>>
>>>
>>>

--0000000000007d586805b85fc1e8
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Agreed that we should stick with the UNOs based on the ski=
ll level we seem to be seeing via the list. It sounds like we have a solid =
floor for power - what does this mean for the solar options?<div><br></div>=
<div>One other idea - and it may be a really bad one - that I had in the sh=
ower was to just set a clock stamp to downcycle the sleep mode during night=
-time. Even if we only left it off from midnight to 5am that could reduce d=
rain substantially, no? I&#39;m pretty sure you&#39;ve already thought thro=
ugh this but wanted to get your thinking.</div><div><br></div><div>- J</div=
><div><br></div><div>- J</div></div><div hspace=3D"streak-pt-mark" style=3D=
"max-height:1px"><img alt=3D"" style=3D"width:0px;max-height:0px;overflow:h=
idden" src=3D"https://mailfoogae.appspot.com/t?sender=3Daam9zaEBqb3NoLmlz&a=
mp;type=3Dzerocontent&amp;guid=3D0dc298ad-857c-41d7-ae30-890d1dc1cb10"><fon=
t color=3D"#ffffff" size=3D"1">=E1=90=A7</font></div><br><div class=3D"gmai=
l_quote"><div dir=3D"ltr" class=3D"gmail_attr">On Fri, Jan 8, 2021 at 1:14 =
AM Steve Bond &lt;<a href=3D"mailto:stevebond@gmail.com">stevebond@gmail.co=
m</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"margin=
:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"=
><div dir=3D"ltr">I&#39;m not sure why I have a different number. I looked =
over my notes which showed that an idle Arduino UNO consumes 45mA, and that=
 we were pulling 47mA, showing that our software costs 1-2 mA to run.=C2=A0=
<div><br></div><div>Now I&#39;m showing a pull of 53mA. The ONLY difference=
 is that I ran my isolated ammeter from a battery pack when I did our first=
 tests and I ran it from a bench power supply for this test.=C2=A0</div><di=
v><br></div><div>That shouldn&#39;t matter, but it&#39;s POSSIBLE I ran the=
 ammeter from a 12v battery pack back in Woodinville and ran it at 7.5V fro=
m the bench power supply here. Again, that shouldn&#39;t matter unless the =
ammeter isn&#39;t supposed to work at 7.5 volts and I just forgot how much =
power I gave it in Woodinville. I&#39;ll make sure to check this.</div><div=
><br></div><div>Sounds like we will not get under 35mA on an Arduino UNO. I=
 got it down to 38 today with just some basic sleep stuff but we are still =
paying overhead for the onboard power LED and the voltage regulator, etc. S=
o we&#39;re pretty much at the max savings. The only way to save more power=
 is to burn out the surface-mount LED with a soldering iron and cut PCB tra=
ces that lead to the voltage regulator, brown out detector, and other subci=
rcuits. I don&#39;t think we should ever recommend people do any of these t=
hings.</div><div><br></div><div>To save more energy we&#39;d have to change=
 the board we are using. If we built a Crowbox around an Arduino NANO we&#3=
9;d drop to 19mA with NO sleep work. So we could cleave consumption in half=
 just by changing the board. Nanos run lean so we wouldn&#39;t be able to g=
et down much lower than that even with sleep mode.</div><div><br></div><div=
>We didn&#39;t use Nanos for a couple of reasons. One reason is that if you=
 buy the cheap ones and don&#39;t read what you&#39;re getting, you get a b=
oard which needs to have its header pins soldered on. No big deal for hobby=
ists but for amateurs this would be a disaster. UNOs always come with heade=
rs installed, even the cheap ones.</div><div><br></div><div>The other reaso=
n is that we&#39;d need to plug the Nano into a breadboard and run wires br=
eadboard-to-breadboard and we agreed that the labeled header pins on an Ard=
uino UNO made for more positive targets for amateur builders, reducing pote=
ntial wiring errors.<br><div><br></div></div><div>So, there we are.</div></=
div><br><div class=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail_attr">On=
 Thu, Jan 7, 2021 at 1:14 PM Josh Klein &lt;<a href=3D"mailto:josh@josh.is"=
 target=3D"_blank">josh@josh.is</a>&gt; wrote:<br></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px solid rg=
b(204,204,204);padding-left:1ex"><div dir=3D"auto">You caught me, just!</di=
v><div dir=3D"auto"><br></div><div dir=3D"auto">Huh; what do you think acco=
unts for the increased power draw?</div><div dir=3D"auto"><br></div><div di=
r=3D"auto">I=E2=80=99d be curious if anyone online has done a side-by-side =
of the rocketscream vs the official library: could that save you some troub=
le?</div><div dir=3D"auto"><br></div><div dir=3D"auto">Last thing is I=E2=
=80=99m stoked to see what the voltaic does. Could be a real game changer, =
esp. in conjunction with the power savings you=E2=80=99re finding!</div><di=
v dir=3D"auto"><br></div><div dir=3D"auto">- J</div><div dir=3D"auto"><br><=
/div><div><br><div class=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail_at=
tr">On Thu, Jan 7, 2021 at 9:03 PM Steve Bond &lt;<a href=3D"mailto:stevebo=
nd@gmail.com" target=3D"_blank">stevebond@gmail.com</a>&gt; wrote:<br></div=
><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border=
-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir=3D"ltr">Trying =
to get this to you before you go to bed there in Iceland. Not sure if I suc=
ceeded.<div><br></div><div><br></div><div>So, I&#39;m getting idle current =
draws at 53mA. My tests back in Woodinville showed 47mA. I don&#39;t know w=
hy the data is different but right now we&#39;re pulling 53mA.</div><div><b=
r></div><div>With the low power library and putting the Crowbox to sleep wi=
th the A/D Converter switched off and the Brownout Detector switched off, c=
onsumption goes down to 38mA. That is 15mA saved going down from 38 from 53=
. That&#39;s about 29% savings.=C2=A0</div><div><br></div><div>Here are opt=
ions moving forward:</div><div><br></div><div>-Explore more shit to disable=
 while the Arduino sleeps</div><div><br></div><div>-I found an official Ard=
uino low power library (versus the Rocketscream library I&#39;m using now).=
 It&#39;s designed to save energy on some of the newer energy-hogging Ardui=
nos but I&#39;m going to write a quick version of CrOS to work with this li=
brary as well and see if there&#39;s a way to push this down more.</div><di=
v><br></div><div>My Voltaic stuff came today. The power bank is cool. The 2=
W solar panel is smaller than I expected. Smaller than two smartphones side=
-by-side. The 3W panel is the same width and one more set of cells tall. So=
, if we have to use a 3W panel, at least it&#39;s not much bigger. I&#39;ll=
 do some output tests on the panel later but probably not today.</div></div=
><div dir=3D"ltr"><div><br></div><div>-Steve</div><div><br></div><div><br><=
/div><div><br></div></div>
</blockquote></div></div>
</blockquote></div>
</blockquote></div>

--0000000000007d586805b85fc1e8--